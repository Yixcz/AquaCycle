<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AquaCycle - Revolución en Reutilización de Agua Escolar</title>
    <style>
        /* Estilos generales */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #4facfe 100%);
            overflow-x: hidden;
            color: white;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header y Navegación */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(30, 60, 114, 0.9);
            backdrop-filter: blur(15px);
            border-bottom: 2px solid rgba(79, 172, 254, 0.3);
            transition: all 0.3s ease;
        }

        header nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .nav-links {
            list-style: none;
            display: flex;
        }

        .nav-links li {
            margin-left: 2.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.05rem;
            transition: color 0.3s ease, text-shadow 0.3s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 3px;
            background-color: #00c9ff;
            left: 0;
            bottom: -8px;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a:hover {
            color: #00c9ff;
            text-shadow: 0 0 15px rgba(0, 201, 255, 0.8);
        }

        /* Hero Section */
        .hero {
            position: relative;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: url('image_66e4a6.png') no-repeat center center/cover; /* Asegúrate de que esta imagen exista */
            padding-top: 80px; /* Para compensar el fixed header */
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            padding: 20px;
            animation: fadeInUp 1s ease-out forwards;
        }

        .hero h1 {
            font-size: 4.5rem;
            margin-bottom: 1rem;
            line-height: 1.1;
            text-shadow: 0 0 20px rgba(79, 172, 254, 0.8);
        }

        .hero p {
            font-size: 1.4rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, #4facfe, #00c9ff);
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 15px rgba(0, 201, 255, 0.4);
            border: none;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 201, 255, 0.6);
            background: linear-gradient(45deg, #00c9ff, #4facfe);
        }

        /* Floating Water Drops */
        .floating-elements .water-drop {
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            opacity: 0;
            animation: bubble 15s infinite ease-in-out;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            pointer-events: none;
        }

        .floating-elements .water-drop:nth-child(1) { width: 30px; height: 30px; left: 10%; bottom: -30px; animation-delay: 0s; }
        .floating-elements .water-drop:nth-child(2) { width: 45px; height: 45px; left: 30%; bottom: -45px; animation-delay: 2s; }
        .floating-elements .water-drop:nth-child(3) { width: 25px; height: 25px; left: 50%; bottom: -25px; animation-delay: 4s; }
        .floating-elements .water-drop:nth-child(4) { width: 50px; height: 50px; left: 70%; bottom: -50px; animation-delay: 6s; }
        .floating-elements .water-drop:nth-child(5) { width: 35px; height: 35px; left: 85%; bottom: -35px; animation-delay: 8s; }
        .floating-elements .water-drop:nth-child(6) { width: 40px; height: 40px; left: 20%; bottom: -40px; animation-delay: 10s; }

        /* General Section Styling */
        section {
            padding: 80px 0;
            text-align: center;
        }

        .section-title {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: #fff;
            text-shadow: 0 0 15px rgba(79, 172, 254, 0.6);
            line-height: 1.2;
        }

        .section-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 3rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Features Section */
        .features {
            background: rgba(30, 60, 114, 0.8);
            border-top: 2px solid rgba(79, 172, 254, 0.3);
            border-bottom: 2px solid rgba(79, 172, 254, 0.3);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: rgba(79, 172, 254, 0.1);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(79, 172, 254, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            text-align: left;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 201, 255, 0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #00c9ff;
            text-shadow: 0 0 10px rgba(0, 201, 255, 0.5);
        }

        .feature-card h3 {
            font-size: 1.6rem;
            margin-bottom: 0.8rem;
            color: #4facfe;
        }

        .feature-card p {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.85);
        }

        /* Stats Section */
        .stats {
            background: rgba(42, 82, 152, 0.7);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .stat-item {
            background: rgba(79, 172, 254, 0.2);
            padding: 1.5rem;
            border-radius: 15px;
            border: 1px solid rgba(79, 172, 254, 0.4);
            animation: glow 3s infinite alternate;
        }

        .stat-number {
            font-size: 3.5rem;
            font-weight: bold;
            color: #00c9ff;
            display: block;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 15px rgba(0, 201, 255, 0.7);
        }

        .stat-item span {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Prototype Demo Section */
        .prototype-demo {
            background: rgba(30, 60, 114, 0.8);
            border-top: 2px solid rgba(79, 172, 254, 0.3);
        }

        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 3rem;
            align-items: center;
            text-align: left;
            margin-top: 3rem;
        }

        .demo-visual {
            background: url('image_66eba5.png') no-repeat center center/contain; /* Asegúrate de que esta imagen exista */
            height: 400px;
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(79, 172, 254, 0.4);
        }

        .water-flow {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(79, 172, 254, 0.5), transparent);
            animation: flow 3s infinite linear;
            opacity: 0.7;
        }

        @keyframes flow {
            0% { transform: translateY(100%); }
            100% { transform: translateY(-100%); }
        }

        .demo-content .section-title {
            text-align: left;
            font-size: 2.8rem;
        }
        .demo-content p {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Student Solutions Section */
        .student-solutions {
            background: rgba(42, 82, 152, 0.7);
            border-top: 2px solid rgba(79, 172, 254, 0.3);
        }

        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }

        .solution-card {
            background: rgba(79, 172, 254, 0.15);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid rgba(79, 172, 254, 0.4);
            text-align: left;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .solution-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 201, 255, 0.4);
        }

        .solution-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .solution-icon {
            font-size: 2.5rem;
            margin-right: 15px;
            color: #00c9ff;
            text-shadow: 0 0 10px rgba(0, 201, 255, 0.6);
        }

        .solution-card h3 {
            font-size: 1.8rem;
            color: #4facfe;
            margin: 0;
        }

        .solution-steps {
            list-style: none;
            padding-left: 0;
            margin-bottom: 1.5rem;
        }

        .solution-steps li {
            position: relative;
            padding-left: 25px;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
        }

        .solution-steps li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #00c9ff;
            font-weight: bold;
        }

        .impact-box {
            background: rgba(0, 201, 255, 0.1);
            border: 1px dashed rgba(0, 201, 255, 0.5);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1.5rem;
        }

        .impact-title {
            font-weight: bold;
            color: #00c9ff;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .additional-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .result-item {
            background: rgba(79, 172, 254, 0.2);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(79, 172, 254, 0.4);
        }

        .result-item h4 {
            color: #4facfe;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .result-item .value {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
        }

        /* Keyframe Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(-45deg); }
            50% { transform: translateY(-25px) rotate(-45deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        @keyframes bubble {
            0% { transform: translateX(-50%) translateY(0); opacity: 1; }
            100% { transform: translateX(-50%) translateY(-280px); opacity: 0; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(79, 172, 254, 0.3); }
            50% { box-shadow: 0 0 40px rgba(79, 172, 254, 0.6); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 { font-size: 3rem; }
            .hero p { font-size: 1.2rem; }
            .demo-container { grid-template-columns: 1fr; }
            .nav-links { display: none; }
            .solutions-grid { grid-template-columns: 1fr; }
            .calculator-input {
                display: grid;
                grid-template-columns: 1fr;
                gap: 15px;
            }
            .section-title { font-size: 2.5rem; }
            .additional-results { grid-template-columns: 1fr; }

            /* Chatbot para móviles - AJUSTADO */
            .aquacycle-ia-container.open {
                width: 90%;
                left: 5%;
                bottom: 15px;
                height: 70vh; /* Mayor altura en móviles */
            }

            /* Estilos del botón flotante minimizado para móvil */
            .open-button {
                bottom: 20px; /* Mantener abajo */
                right: 20px; /* Posición a la derecha para no estorbar en el contenido principal */
                left: auto; /* Eliminar left: 50% para que right funcione */
                transform: none; /* Eliminar transformación para que right funcione */
                width: 60px; /* Tamaño de burbuja */
                height: 60px; /* Tamaño de burbuja */
                padding: 0;
                border-radius: 50%; /* Hacerlo circular */
                font-size: 0; /* Ocultar texto */
                display: flex;
                justify-content: center;
                align-items: center;
                background: linear-gradient(45deg, #4facfe, #00c9ff);
                box-shadow: 0 5px 15px rgba(79, 172, 254, 0.6);
            }

            .open-button::before { /* Icono de burbuja */
                content: '🤖'; /* O puedes usar una imagen o SVG */
                font-size: 28px; /* Tamaño del icono */
                color: white;
            }

            .open-button:hover {
                transform: translateY(-3px) scale(1.05); /* Pequeña escala para el hover */
                box-shadow: 0 8px 20px rgba(79, 172, 254, 0.8);
            }
        }

        /* Footer */
        footer {
            background: rgba(30, 60, 114, 0.9);
            padding: 3rem 0;
            text-align: center;
            border-top: 2px solid rgba(79, 172, 254, 0.3);
        }

        .highlight {
            color: #4facfe;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }

        /* Estilos para el chatbot flotante */
        .aquacycle-ia-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 320px;
            background: rgba(30, 60, 114, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            z-index: 1000;
            overflow: hidden; /* Oculta el contenido extra */
            display: flex;
            flex-direction: column;
            transition: all 0.4s ease-in-out;
            border: 2px solid rgba(79, 172, 254, 0.4);
        }

        /* Estado 'closed' para el contenedor principal cuando está minimizado */
        .aquacycle-ia-container.closed {
            width: 0;
            height: 0;
            padding: 0;
            border: none;
            box-shadow: none;
            background: transparent;
            /* Asegura que el contenido interno sea invisible */
            visibility: hidden;
            opacity: 0;
            pointer-events: none; /* No interactuable */
        }

        .aquacycle-ia-container.open {
            height: 450px; /* Altura cuando está abierto */
            visibility: visible;
            opacity: 1;
            pointer-events: auto; /* Interactuable */
        }

        .aquacycle-ia-header {
            background: linear-gradient(45deg, #4facfe, #00c9ff);
            color: white;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-weight: bold;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer; /* Indica que es clickeable */
        }

        .aquacycle-ia-header .close-button {
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            line-height: 1;
            transition: transform 0.2s ease;
        }

        .aquacycle-ia-header .close-button:hover {
            transform: rotate(90deg);
        }

        .aquacycle-ia-body {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            padding: 15px;
            gap: 10px;
            /* Estos estilos serán controlados por la clase .open en el contenedor principal */
            visibility: visible;
            opacity: 1;
            height: calc(100% - 50px); /* Altura dinámica del cuerpo */
        }

        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 10px;
        }

        /* Estilos de la barra de desplazamiento del chat */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: #4facfe;
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #00c9ff;
        }

        .message {
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 85%;
            word-wrap: break-word;
            line-height: 1.4;
        }

        .user-message {
            background: linear-gradient(45deg, #00c9ff, #4facfe);
            color: white;
            align-self: flex-end;
            text-align: right;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            align-self: flex-start;
            text-align: left;
            border: 1px solid rgba(79, 172, 254, 0.3);
            border-bottom-left-radius: 5px;
        }

        .bot-message.thinking {
            font-style: italic;
            opacity: 0.8;
        }

        .bot-message.error {
            background-color: rgba(255, 0, 0, 0.2);
            border-color: rgba(255, 0, 0, 0.5);
        }

        .chat-input-area {
            display: flex;
            gap: 10px;
            margin-top: auto; /* Empuja el área de entrada al final */
        }

        .chat-input-area input {
            flex-grow: 1;
            padding: 10px 15px;
            border: 1px solid rgba(79, 172, 254, 0.5);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chat-input-area input:focus {
            border-color: #00c9ff;
            box-shadow: 0 0 10px rgba(0, 201, 255, 0.3);
        }

        .chat-input-area input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .chat-input-area button {
            background: linear-gradient(45deg, #4facfe, #00c9ff);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease, transform 0.2s ease;
        }

        .chat-input-area button:hover {
            background: linear-gradient(45deg, #00c9ff, #4facfe);
            transform: translateY(-2px);
        }

        /* Estilo general para el botón de abrir (predeterminado para escritorio) */
        .open-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(45deg, #4facfe, #00c9ff);
            color: white;
            border: none;
            padding: 15px 25px; /* Más padding para texto visible */
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
            z-index: 1001; /* Asegúrate de que esté por encima del contenedor */
            display: block; /* Visible por defecto */
            transition: all 0.3s ease;
        }

        /* Oculta el pseudo-elemento del icono en escritorio */
        .open-button::before {
            content: none;
        }

        .open-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(79, 172, 254, 0.6);
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">AquaCycle Escolar</div>
            <ul class="nav-links">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#funciones">Funciones</a></li>
                <li><a href="#prototipo">Prototipo</a></li>
                <li><a href="#soluciones">Implementación</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero" id="inicio">
        <div class="floating-elements">
            <div class="water-drop"></div>
            <div class="water-drop"></div>
            <div class="water-drop"></div>
            <div class="water-drop"></div>
            <div class="water-drop"></div>
            <div class="water-drop"></div>
        </div>
        <div class="hero-content">
            <h1>AquaCycle Escolar</h1>
            <p>Revolucionando el manejo del agua en instituciones educativas. Transforma el agua de lavamanos, bebederos y laboratorios en agua limpia y reutilizable para limpieza y mantenimiento del colegio.</p>
            <a href="#prototipo" class="cta-button">Descubre el Prototipo</a>
        </div>
    </section>

    <section class="features" id="funciones">
        <div class="container">
            <h2 class="section-title">Tecnología Escolar Inteligente</h2>
            <p class="section-subtitle">Nuestro sistema está diseñado específicamente para las necesidades de colegios e instituciones educativas sin áreas verdes</p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🏫</div>
                    <h3>Diseño Escolar Avanzado</h3>
                    <p>Sistema compacto que se integra perfectamente en patios, laboratorios y áreas comunes del colegio sin interferir con las actividades educativas diarias.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💧</div>
                    <h3>Purificación Multicauce</h3>
                    <p>Procesa agua de lavamanos, bebederos, laboratorios y agua de lluvia, convirtiéndola en agua de alta calidad apta para limpieza y mantenimiento escolar.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🧽</div>
                    <h3>Limpieza Integral Total</h3>
                    <p>El agua purificada se utiliza para limpieza completa de patios, aulas, baños, escaleras, laboratorios y todas las áreas comunes del colegio.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">📚</div>
                    <h3>Herramienta Educativa Práctica</h3>
                    <p>Los estudiantes aprenden sobre sostenibilidad, química del agua, ingeniería ambiental y tecnología verde de forma completamente práctica.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💰</div>
                    <h3>Ahorro Institucional Máximo</h3>
                    <p>Reduce los costos de agua del colegio hasta en un <span class="highlight">60%</span> y genera ahorros significativos en el presupuesto anual institucional.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="stats">
        <div class="container">
            <h2 class="section-title">Impacto Revolucionario en el Colegio</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number">1,200L</span>
                    <span>Litros procesados diariamente</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">60%</span>
                    <span>Reducción en factura de agua</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">10h</span>
                    <span>Horas de funcionamiento diario</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">500+</span>
                    <span>Estudiantes beneficiados</span>
                </div>
            </div>
        </div>
    </section>

    <section class="prototype-demo" id="prototipo">
        <div class="container">
            <div class="demo-container">
                <div class="demo-visual">
                    <div class="water-flow"></div>
                </div>
                <div class="demo-content">
                    <h2 class="section-title">Prototipo Innovador</h2>
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2rem;">
                        El prototipo <span class="highlight">AquaCycle Escolar</span> está diseñado para instalarse estratégicamente en el patio del colegio, conectándose directamente a los desagües de lavamanos, bebederos y laboratorios de ciencias mediante un sistema de tuberías inteligente.
                    </p>
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2rem;">
                        Durante el recreo y horas de clase, el sistema recolecta automáticamente el agua usada, la purifica mediante <span class="highlight">filtros especializados de última generación</span> y la almacena en tanques subterráneos para uso inmediato en limpieza de aulas, patios y baños del colegio.
                    </p>
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 2rem;">
                        <strong class="highlight">Capacidad:</strong> 1,200 litros diarios | <strong class="highlight">Cobertura:</strong> 100% del colegio | <strong class="highlight">Estudiantes beneficiados:</strong> 500+
                    </p>
                    <a href="#soluciones" class="cta-button">Ver Implementación</a>
                </div>
            </div>
        </div>
    </section>

    <section class="student-solutions" id="soluciones">
        <div class="container">
            <h2 class="section-title">Implementación Revolucionaria</h2>
            <p class="section-subtitle">Plan completo para transformar tu institución educativa en un modelo de sostenibilidad hídrica y maximizar el ahorro de agua</p>

            <div class="solutions-grid">
                <div class="solution-card">
                    <div class="solution-header">
                        <div class="solution-icon">🎓</div>
                        <h3>Integración Educativa Completa</h3>
                    </div>
                    <ul class="solution-steps">
                        <li>Módulo curricular avanzado sobre ciclo del agua y purificación</li>
                        <li>Brigada ecológica estudiantil con roles de liderazgo</li>
                        <li>Proyecto de investigación científica anual sobre sostenibilidad hídrica</li>
                        <li>Centro de exhibición interactivo para visitantes y comunidad</li>
                    </ul>
                    <div class="impact-box">
                        <div class="impact-title">🌟 Impacto educativo:</div>
                        <p>500+ estudiantes aprenden sostenibilidad práctica y liderazgo ambiental</p>
                    </div>
                </div>

                <div class="solution-card">
                    <div class="solution-header">
                        <div class="solution-icon">✨</div>
                        <h3>Aprovechamiento Total del Agua</h3>
                    </div>
                    <ul class="solution-steps">
                        <li>Limpieza diaria de todas las aulas y salones</li>
                        <li>Mantenimiento completo de patios, escaleras, pasillos y áreas comunes</li>
                        <li>Limpieza profunda de baños, servicios higiénicos y laboratorios</li>
                        <li>Sistema de lavado de pisos y superficies con agua reciclada</li>
                    </ul>
                    <div class="impact-box">
                        <div class="impact-title">🏢 Cobertura total:</div>
                        <p>100% de la limpieza y mantenimiento del colegio con agua reciclada</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 AquaCycle Escolar. Todos los derechos reservados.</p>
        </div>
    </footer>

    <div class="aquacycle-ia-container closed" id="aquacycleIaContainer">
        <div class="aquacycle-ia-header" id="aquacycleIaHeader">
            AquaCycle IA
            <button class="close-button" id="closeChatButton">×</button>
        </div>
        <div class="aquacycle-ia-body" id="aquacycleIaBody">
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    Hola! Soy AquaCycle IA. Pregúntame sobre el proyecto, el ahorro de agua o la sostenibilidad escolar.
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="aquacycleIaInput" placeholder="Escribe tu pregunta...">
                <button id="aquacycleIaSendButton">Enviar</button>
            </div>
        </div>
    </div>
    <button class="open-button" id="openChatButton"></button>

    <script>
        // *****************************************************************************************
        // ** TU CLAVE DE API DE GEMINI REAL Y VÁLIDA ESTÁ COLOCADA AQUÍ                       **
        // ** **
        // ** IMPORTANTE: Esta clave es sensible. En un entorno de producción, nunca la expongas**
        // ** directamente en el código del lado del cliente. Usa un backend para mayor seguridad.**
        // *****************************************************************************************
        const GEMINI_API_KEY = 'AIzaSyDzRjqcns9HUoAYdDaFp8_-ohwh0Ue9npM';
        const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite-preview-06-17:generateContent?key=${GEMINI_API_KEY}`;

        const aquacycleIaContainer = document.getElementById('aquacycleIaContainer');
        const aquacycleIaHeader = document.getElementById('aquacycleIaHeader');
        const aquacycleIaBody = document.getElementById('aquacycleIaBody');
        const aquacycleIaInput = document.getElementById('aquacycleIaInput');
        const aquacycleIaSendButton = document.getElementById('aquacycleIaSendButton');
        const chatMessages = document.getElementById('chatMessages');
        const closeChatButton = document.getElementById('closeChatButton');
        const openChatButton = document.getElementById('openChatButton');

        let isChatOpen = false; // El chat siempre inicia cerrado

        // Función para actualizar la visibilidad del chat y el botón
        function updateChatVisibility() {
            if (isChatOpen) {
                aquacycleIaContainer.classList.add('open');
                aquacycleIaContainer.classList.remove('closed');
                openChatButton.style.display = 'none'; // Ocultar el botón de abrir
                aquacycleIaInput.focus(); // Pone el foco en el input cuando se abre
            } else {
                aquacycleIaContainer.classList.remove('open');
                aquacycleIaContainer.classList.add('closed');
                openChatButton.style.display = 'flex'; // Mostrar el botón de abrir (flex para centrar contenido)
            }
        }

        function toggleChat() {
            isChatOpen = !isChatOpen;
            updateChatVisibility();
        }

        // Event Listeners para abrir/cerrar el chat
        closeChatButton.addEventListener('click', toggleChat);
        aquacycleIaHeader.addEventListener('click', toggleChat);
        openChatButton.addEventListener('click', toggleChat);

        // Llamar una vez al cargar para establecer el estado inicial correcto
        updateChatVisibility();

        aquacycleIaSendButton.addEventListener('click', sendMessage);
        aquacycleIaInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        async function sendMessage() {
            const message = aquacycleIaInput.value.trim();
            if (message === '') return;

            appendMessage(message, 'user');
            aquacycleIaInput.value = '';

            let thinkingMessage = appendMessage('AquaCycle IA está pensando...', 'bot thinking');

            try {
                const prompt = `Como asistente de un proyecto llamado "AquaCycle Escolar", que se enfoca en la reutilización de agua en escuelas sin áreas verdes (específicamente agua de lavamanos, bebederos y laboratorios para limpieza y mantenimiento de las instalaciones del colegio), responde a la siguiente pregunta: "${message}".
                Enfoca tus respuestas en la sostenibilidad hídrica en entornos escolares, el ahorro de agua, la tecnología de purificación para uso no potable (limpieza, mantenimiento), beneficios ambientales y económicos para colegios. Es crucial que evites mencionar el riego de plantas o áreas verdes en tus respuestas, ya que el proyecto está diseñado para colegios sin ellas o que no usan agua reciclada para ese fin. Sé conciso, informativo y educativo.`;

                const response = await fetch(GEMINI_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    }),
                });

                const responseText = await response.text();

                if (!response.ok) {
                    console.error('HTTP Error Response Text:', responseText);
                    throw new Error(`HTTP error! status: ${response.status}. Response: ${responseText.substring(0, 200)}...`);
                }

                const data = JSON.parse(responseText);

                if (thinkingMessage && chatMessages.contains(thinkingMessage)) {
                    chatMessages.removeChild(thinkingMessage);
                }

                let botResponse = 'Lo siento, no pude generar una respuesta en este momento. Intenta reformular tu pregunta.';
                if (data.candidates && data.candidates.length > 0 && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {
                    botResponse = data.candidates[0].content.parts[0].text;
                } else if (data.error) {
                    botResponse = `Error de la API: ${data.error.message || 'Desconocido'}. Por favor, revisa tu API Key y las quotas.`;
                    console.error('API Error Response:', data.error);
                } else {
                    console.warn('Unexpected API response structure:', data);
                    botResponse = 'La API no devolvió una respuesta válida. Consulta la consola para más detalles.';
                }

                appendMessage(botResponse, 'bot');

            } catch (error) {
                console.error('Error durante la comunicación con la API de Gemini:', error);
                if (thinkingMessage && chatMessages.contains(thinkingMessage)) {
                    chatMessages.removeChild(thinkingMessage);
                }
                appendMessage('Lo siento, hubo un problema al comunicarme con la IA. Intenta de nuevo más tarde o revisa la consola para más detalles.', 'bot error');
            }
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function appendMessage(text, classes) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            classes.split(' ').forEach(cls => {
                messageDiv.classList.add(`${cls}-message`);
            });
            messageDiv.innerHTML = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return messageDiv;
        }
    </script>
</body>
</html>